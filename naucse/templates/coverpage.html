{% extends "_base_course.html" %}
{% from "_material_macros.html" import material_list with context %}
{% import "_navigation_macros.html" as nav %}

{% block breadcrumbs %}
> <a href="{{ url_for('course', course=course) }}">{{ course.title }}</a>
> {{ session.title }}
{% endblock %}

{% block course_content %}
    <h1>
        {% if session.date is defined %}
            Lekce: {{ session.title }} ({{ session.date }})
        {% else %}
            Lekce: {{ session.title }}
        {% endif %}
    </h1>

    {% if course.place is defined and session.start_time is defined %}
        <div class="details">{{ course.place }},
            {{ session.start_time | format_time }}–{{ session.end_time | format_time }}</div>
    {% endif %}

    <h2>Materiály</h2>
    {{ material_list(session.materials, filter_type='lesson') }}
{#
    {% if cheatsheet_section %}
        <h2>Taháky</h2>
        {{ material_list(session.materials, filter_type='cheatsheet') }}
    {% endif %}

    {% if homework_section %}
        <h2>Domácí projekty</h2>
        {{ material_list(session.materials, filter_type='homework') }}
    {% endif %}
#}
    {% block coverpage_content %}
        {{ content }}
    {% endblock %}

    <hr class="lesson-end">

    {% call nav.prevnext() %}
        {% if session.prev is defined and session.prev != None %}
            {{ nav.prev(url_for('session', course=course, session_slug=session.slug), session.title) }}
        {% endif %}
        {{ nav.up(url_for('course', course=course), course.title) }}
        {{ nav.next(url_for('session', course=course, session_slug=session.slug, coverpage='back'), 'Závěr lekce') }}
    {% endcall %}
{% endblock %}
